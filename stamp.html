<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>미션 스템프</title>
        <link rel="stylesheet" href="styles.css">
        <style>
            .stamp-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-top: 20px; }
            .stamp { border: 1px solid #ccc; padding: 20px; text-align: center; }
            .stamped { background-color: lightgreen; }
        </style>
    </head>

    <body>
        <div class="container">
            <h1>미션 스템프</h1>
            <div class="stamp-grid" id="grid"></div>
            <p id="message"></p>
        </div>

        <script>
            const userId = localStorage.getItem("userId");
            if (!userId) location.href = "index.html";
            const urlParams = new URLSearchParams(location.search);
            const booth = urlParams.get("booth");
            const key = `stamp_${userId}`;
            let stamps = JSON.parse(localStorage.getItem(key) || "[]");
            if (booth && !stamps.includes(booth)) {
            stamps.push(booth);
            localStorage.setItem(key, JSON.stringify(stamps));
            }
            const grid = document.getElementById("grid");
            for (let i = 1; i <= 8; i++) {
            const div = document.createElement("div");
            div.innerText = `${i}번 부스`;
            div.className = "stamp" + (stamps.includes(i.toString()) ? " stamped" : "");
            grid.appendChild(div);
            }
            if (stamps.length === 8) document.getElementById("message").innerText = "미션 완료! 축하합니다.";
        </script>
    </body>
</html>